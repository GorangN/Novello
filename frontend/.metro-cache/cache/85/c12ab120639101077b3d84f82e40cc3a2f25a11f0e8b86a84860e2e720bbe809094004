{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":116},"end":{"line":3,"column":62,"index":178}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":26,"index":205}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth/callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[2], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[4], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _axios = require(_dependencyMap[6], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const API_URL = typeof window !== 'undefined' ? window.location.origin : '';\n  function AuthCallback() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    (0, _react.useEffect)(() => {\n      const processCallback = async () => {\n        try {\n          const sessionId = params.session_id;\n          if (!sessionId) {\n            throw new Error('No session ID received');\n          }\n\n          // Send session_id to backend\n          await axios.default.post(`${API_URL}/api/auth/session`, {}, {\n            headers: {\n              'X-Session-ID': sessionId\n            },\n            withCredentials: true\n          });\n\n          // Redirect to main app\n          router.replace('/currently-reading');\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/auth/login');\n        }\n      };\n      processCallback();\n    }, [params]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#4A90E2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Completing sign in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"Xgd2mmLTJ9rtfx6NSqeuKy+rqns=\", false, function () {\n    return [_expoRouter.useRouter, _expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallback;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#F5F5F5'\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: '#8E8E93'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":105,"map":[[14,2,8,15,"Object"],[14,8,8,15],[14,9,8,15,"defineProperty"],[14,23,8,15],[14,24,8,15,"exports"],[14,31,8,15],[15,4,8,15,"enumerable"],[15,14,8,15],[16,4,8,15,"get"],[16,7,8,15],[16,18,8,15,"get"],[16,19,8,15],[17,6,8,15],[17,13,8,15,"AuthCallback"],[17,25,8,15],[18,4,8,15],[19,2,8,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,41],[21,6,1,41,"_reactNativeWebDistExportsView"],[21,36,1,41],[21,39,1,41,"require"],[21,46,1,41],[21,47,1,41,"_dependencyMap"],[21,61,1,41],[22,2,1,41],[22,6,1,41,"View"],[22,10,1,41],[22,13,1,41,"_interopDefault"],[22,28,1,41],[22,29,1,41,"_reactNativeWebDistExportsView"],[22,59,1,41],[23,2,1,41],[23,6,1,41,"_reactNativeWebDistExportsText"],[23,36,1,41],[23,39,1,41,"require"],[23,46,1,41],[23,47,1,41,"_dependencyMap"],[23,61,1,41],[24,2,1,41],[24,6,1,41,"Text"],[24,10,1,41],[24,13,1,41,"_interopDefault"],[24,28,1,41],[24,29,1,41,"_reactNativeWebDistExportsText"],[24,59,1,41],[25,2,1,41],[25,6,1,41,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,41],[25,45,1,41,"require"],[25,52,1,41],[25,53,1,41,"_dependencyMap"],[25,67,1,41],[26,2,1,41],[26,6,1,41,"StyleSheet"],[26,16,1,41],[26,19,1,41,"_interopDefault"],[26,34,1,41],[26,35,1,41,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,41],[27,2,1,41],[27,6,1,41,"_reactNativeWebDistExportsActivityIndicator"],[27,49,1,41],[27,52,1,41,"require"],[27,59,1,41],[27,60,1,41,"_dependencyMap"],[27,74,1,41],[28,2,1,41],[28,6,1,41,"ActivityIndicator"],[28,23,1,41],[28,26,1,41,"_interopDefault"],[28,41,1,41],[28,42,1,41,"_reactNativeWebDistExportsActivityIndicator"],[28,85,1,41],[29,2,3,0],[29,6,3,0,"_expoRouter"],[29,17,3,0],[29,20,3,0,"require"],[29,27,3,0],[29,28,3,0,"_dependencyMap"],[29,42,3,0],[30,2,4,0],[30,6,4,0,"_axios"],[30,12,4,0],[30,15,4,0,"require"],[30,22,4,0],[30,23,4,0,"_dependencyMap"],[30,37,4,0],[31,2,4,0],[31,6,4,0,"axios"],[31,11,4,0],[31,14,4,0,"_interopDefault"],[31,29,4,0],[31,30,4,0,"_axios"],[31,36,4,0],[32,2,4,26],[32,6,4,26,"_reactJsxDevRuntime"],[32,25,4,26],[32,28,4,26,"require"],[32,35,4,26],[32,36,4,26,"_dependencyMap"],[32,50,4,26],[33,2,6,0],[33,8,6,6,"API_URL"],[33,15,6,13],[33,18,6,16],[33,25,6,23,"window"],[33,31,6,29],[33,36,6,34],[33,47,6,45],[33,50,6,48,"window"],[33,56,6,54],[33,57,6,55,"location"],[33,65,6,63],[33,66,6,64,"origin"],[33,72,6,70],[33,75,6,73],[33,77,6,75],[34,2,8,15],[34,11,8,24,"AuthCallback"],[34,23,8,36,"AuthCallback"],[34,24,8,36],[34,26,8,39],[35,4,8,39,"_s"],[35,6,8,39],[36,4,9,2],[36,10,9,8,"router"],[36,16,9,14],[36,19,9,17],[36,23,9,17,"useRouter"],[36,34,9,26],[36,35,9,26,"useRouter"],[36,44,9,26],[36,46,9,27],[36,47,9,28],[37,4,10,2],[37,10,10,8,"params"],[37,16,10,14],[37,19,10,17],[37,23,10,17,"useLocalSearchParams"],[37,34,10,37],[37,35,10,37,"useLocalSearchParams"],[37,55,10,37],[37,57,10,38],[37,58,10,39],[38,4,12,2],[38,8,12,2,"useEffect"],[38,14,12,11],[38,15,12,11,"useEffect"],[38,24,12,11],[38,26,12,12],[38,32,12,18],[39,6,13,4],[39,12,13,10,"processCallback"],[39,27,13,25],[39,30,13,28],[39,36,13,28,"processCallback"],[39,37,13,28],[39,42,13,40],[40,8,14,6],[40,12,14,10],[41,10,15,8],[41,16,15,14,"sessionId"],[41,25,15,23],[41,28,15,26,"params"],[41,34,15,32],[41,35,15,33,"session_id"],[41,45,15,43],[42,10,17,8],[42,14,17,12],[42,15,17,13,"sessionId"],[42,24,17,22],[42,26,17,24],[43,12,18,10],[43,18,18,16],[43,22,18,20,"Error"],[43,27,18,25],[43,28,18,26],[43,52,18,50],[43,53,18,51],[44,10,19,8],[46,10,21,8],[47,10,22,8],[47,16,22,14,"axios"],[47,21,22,19],[47,22,22,19,"default"],[47,29,22,19],[47,30,22,20,"post"],[47,34,22,24],[47,35,23,10],[47,38,23,13,"API_URL"],[47,45,23,20],[47,64,23,39],[47,66,24,10],[47,67,24,11],[47,68,24,12],[47,70,25,10],[48,12,26,12,"headers"],[48,19,26,19],[48,21,26,21],[49,14,26,23],[49,28,26,37],[49,30,26,39,"sessionId"],[50,12,26,49],[50,13,26,50],[51,12,27,12,"withCredentials"],[51,27,27,27],[51,29,27,29],[52,10,28,10],[52,11,29,8],[52,12,29,9],[54,10,31,8],[55,10,32,8,"router"],[55,16,32,14],[55,17,32,15,"replace"],[55,24,32,22],[55,25,32,23],[55,45,32,43],[55,46,32,44],[56,8,33,6],[56,9,33,7],[56,10,33,8],[56,17,33,15,"error"],[56,22,33,20],[56,24,33,22],[57,10,34,8,"console"],[57,17,34,15],[57,18,34,16,"error"],[57,23,34,21],[57,24,34,22],[57,46,34,44],[57,48,34,46,"error"],[57,53,34,51],[57,54,34,52],[58,10,35,8,"router"],[58,16,35,14],[58,17,35,15,"replace"],[58,24,35,22],[58,25,35,23],[58,38,35,36],[58,39,35,37],[59,8,36,6],[60,6,37,4],[60,7,37,5],[61,6,39,4,"processCallback"],[61,21,39,19],[61,22,39,20],[61,23,39,21],[62,4,40,2],[62,5,40,3],[62,7,40,5],[62,8,40,6,"params"],[62,14,40,12],[62,15,40,13],[62,16,40,14],[63,4,42,2],[63,24,43,4],[63,28,43,4,"_reactJsxDevRuntime"],[63,47,43,4],[63,48,43,4,"jsxDEV"],[63,54,43,4],[63,56,43,5,"View"],[63,60,43,9],[63,61,43,9,"default"],[63,68,43,9],[64,6,43,10,"style"],[64,11,43,15],[64,13,43,17,"styles"],[64,19,43,23],[64,20,43,24,"container"],[64,29,43,34],[65,6,43,34,"children"],[65,14,43,34],[65,30,44,6],[65,34,44,6,"_reactJsxDevRuntime"],[65,53,44,6],[65,54,44,6,"jsxDEV"],[65,60,44,6],[65,62,44,7,"ActivityIndicator"],[65,79,44,24],[65,80,44,24,"default"],[65,87,44,24],[66,8,44,25,"size"],[66,12,44,29],[66,14,44,30],[66,21,44,37],[67,8,44,38,"color"],[67,13,44,43],[67,15,44,44],[68,6,44,53],[69,8,44,53,"fileName"],[69,16,44,53],[69,18,44,53,"_jsxFileName"],[69,30,44,53],[70,8,44,53,"lineNumber"],[70,18,44,53],[71,8,44,53,"columnNumber"],[71,20,44,53],[72,6,44,53],[72,13,44,55],[72,14,44,56],[72,29,45,6],[72,33,45,6,"_reactJsxDevRuntime"],[72,52,45,6],[72,53,45,6,"jsxDEV"],[72,59,45,6],[72,61,45,7,"Text"],[72,65,45,11],[72,66,45,11,"default"],[72,73,45,11],[73,8,45,12,"style"],[73,13,45,17],[73,15,45,19,"styles"],[73,21,45,25],[73,22,45,26,"text"],[73,26,45,31],[74,8,45,31,"children"],[74,16,45,31],[74,18,45,32],[75,6,45,53],[76,8,45,53,"fileName"],[76,16,45,53],[76,18,45,53,"_jsxFileName"],[76,30,45,53],[77,8,45,53,"lineNumber"],[77,18,45,53],[78,8,45,53,"columnNumber"],[78,20,45,53],[79,6,45,53],[79,13,45,59],[79,14,45,60],[80,4,45,60],[81,6,45,60,"fileName"],[81,14,45,60],[81,16,45,60,"_jsxFileName"],[81,28,45,60],[82,6,45,60,"lineNumber"],[82,16,45,60],[83,6,45,60,"columnNumber"],[83,18,45,60],[84,4,45,60],[84,11,46,10],[84,12,46,11],[85,2,48,0],[86,2,48,1,"_s"],[86,4,48,1],[86,5,8,24,"AuthCallback"],[86,17,8,36],[87,4,8,36],[87,12,9,17,"useRouter"],[87,23,9,26],[87,24,9,26,"useRouter"],[87,33,9,26],[87,35,10,17,"useLocalSearchParams"],[87,46,10,37],[87,47,10,37,"useLocalSearchParams"],[87,67,10,37],[88,2,10,37],[89,2,10,37,"_c"],[89,4,10,37],[89,7,8,24,"AuthCallback"],[89,19,8,36],[90,2,50,0],[90,8,50,6,"styles"],[90,14,50,12],[90,17,50,15,"StyleSheet"],[90,27,50,25],[90,28,50,25,"default"],[90,35,50,25],[90,36,50,26,"create"],[90,42,50,32],[90,43,50,33],[91,4,51,2,"container"],[91,13,51,11],[91,15,51,13],[92,6,52,4,"flex"],[92,10,52,8],[92,12,52,10],[92,13,52,11],[93,6,53,4,"justifyContent"],[93,20,53,18],[93,22,53,20],[93,30,53,28],[94,6,54,4,"alignItems"],[94,16,54,14],[94,18,54,16],[94,26,54,24],[95,6,55,4,"backgroundColor"],[95,21,55,19],[95,23,55,21],[96,4,56,2],[96,5,56,3],[97,4,57,2,"text"],[97,8,57,6],[97,10,57,8],[98,6,58,4,"marginTop"],[98,15,58,13],[98,17,58,15],[98,19,58,17],[99,6,59,4,"fontSize"],[99,14,59,12],[99,16,59,14],[99,18,59,16],[100,6,60,4,"color"],[100,11,60,9],[100,13,60,11],[101,4,61,2],[102,2,62,0],[102,3,62,1],[102,4,62,2],[103,2,62,3],[103,6,62,3,"_c"],[103,8,62,3],[104,2,62,3,"$RefreshReg$"],[104,14,62,3],[104,15,62,3,"_c"],[104,17,62,3],[105,0,62,3],[105,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processCallback"],"mappings":"AAA;eCO;YCI;4BCC;KDwB;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}