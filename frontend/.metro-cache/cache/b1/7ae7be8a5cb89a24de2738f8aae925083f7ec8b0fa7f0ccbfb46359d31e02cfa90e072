{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const API_URL = typeof window !== 'undefined' ? window.location.origin : '';\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          withCredentials: true\n        });\n        setUser(response.data);\n      } catch (error) {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const register = async (email, password, name) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n        email,\n        password,\n        name\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const logout = async () => {\n      await axios.default.post(`${API_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n      setUser(null);\n    };\n    const loginWithGoogle = () => {\n      // Open Emergent OAuth\n      const redirectUri = encodeURIComponent(window.location.origin + '/auth/callback');\n      const authUrl = `https://demobackend.emergentagent.com/auth/v1/env/oauth/authorize?redirect_uri=${redirectUri}`;\n      window.location.href = authUrl;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":114,"map":[[15,2,25,0,"Object"],[15,8,25,0],[15,9,25,0,"defineProperty"],[15,23,25,0],[15,24,25,0,"exports"],[15,31,25,0],[16,4,25,0,"enumerable"],[16,14,25,0],[17,4,25,0,"get"],[17,7,25,0],[17,18,25,0,"get"],[17,19,25,0],[18,6,25,0],[18,13,25,0,"AuthProvider"],[18,25,25,0],[19,4,25,0],[20,2,25,0],[21,2,83,0,"Object"],[21,8,83,0],[21,9,83,0,"defineProperty"],[21,23,83,0],[21,24,83,0,"exports"],[21,31,83,0],[22,4,83,0,"enumerable"],[22,14,83,0],[23,4,83,0,"get"],[23,7,83,0],[23,18,83,0,"get"],[23,19,83,0],[24,6,83,0],[24,13,83,0,"useAuth"],[24,20,83,0],[25,4,83,0],[26,2,83,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,21,0],[31,8,21,6,"AuthContext"],[31,19,21,17],[31,35,21,20],[31,39,21,20,"createContext"],[31,45,21,33],[31,46,21,33,"createContext"],[31,59,21,33],[31,61,21,63,"undefined"],[31,70,21,72],[31,71,21,73],[32,2,23,0],[32,8,23,6,"API_URL"],[32,15,23,13],[32,18,23,16],[32,25,23,23,"window"],[32,31,23,29],[32,36,23,34],[32,47,23,45],[32,50,23,48,"window"],[32,56,23,54],[32,57,23,55,"location"],[32,65,23,63],[32,66,23,64,"origin"],[32,72,23,70],[32,75,23,73],[32,77,23,75],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,66],[33,23,25,69,"AuthProvider"],[33,24,25,70],[34,4,25,72,"children"],[35,2,25,81],[35,3,25,82],[35,8,25,87],[36,4,25,87,"_s"],[36,6,25,87],[37,4,26,2],[37,10,26,8],[37,11,26,9,"user"],[37,15,26,13],[37,17,26,15,"setUser"],[37,24,26,22],[37,25,26,23],[37,28,26,26],[37,32,26,26,"useState"],[37,38,26,34],[37,39,26,34,"useState"],[37,47,26,34],[37,49,26,48],[37,53,26,52],[37,54,26,53],[38,4,27,2],[38,10,27,8],[38,11,27,9,"loading"],[38,18,27,16],[38,20,27,18,"setLoading"],[38,30,27,28],[38,31,27,29],[38,34,27,32],[38,38,27,32,"useState"],[38,44,27,40],[38,45,27,40,"useState"],[38,53,27,40],[38,55,27,41],[38,59,27,45],[38,60,27,46],[39,4,29,2],[39,8,29,2,"useEffect"],[39,14,29,11],[39,15,29,11,"useEffect"],[39,24,29,11],[39,26,29,12],[39,32,29,18],[40,6,30,4,"checkAuth"],[40,15,30,13],[40,16,30,14],[40,17,30,15],[41,4,31,2],[41,5,31,3],[41,7,31,5],[41,9,31,7],[41,10,31,8],[42,4,33,2],[42,10,33,8,"checkAuth"],[42,19,33,17],[42,22,33,20],[42,28,33,20,"checkAuth"],[42,29,33,20],[42,34,33,32],[43,6,34,4],[43,10,34,8],[44,8,35,6],[44,14,35,12,"response"],[44,22,35,20],[44,25,35,23],[44,31,35,29,"axios"],[44,36,35,34],[44,37,35,34,"default"],[44,44,35,34],[44,45,35,35,"get"],[44,48,35,38],[44,49,35,39],[44,52,35,42,"API_URL"],[44,59,35,49],[44,73,35,63],[44,75,35,65],[45,10,36,8,"withCredentials"],[45,25,36,23],[45,27,36,25],[46,8,37,6],[46,9,37,7],[46,10,37,8],[47,8,38,6,"setUser"],[47,15,38,13],[47,16,38,14,"response"],[47,24,38,22],[47,25,38,23,"data"],[47,29,38,27],[47,30,38,28],[48,6,39,4],[48,7,39,5],[48,8,39,6],[48,15,39,13,"error"],[48,20,39,18],[48,22,39,20],[49,8,40,6,"setUser"],[49,15,40,13],[49,16,40,14],[49,20,40,18],[49,21,40,19],[50,6,41,4],[50,7,41,5],[50,16,41,14],[51,8,42,6,"setLoading"],[51,18,42,16],[51,19,42,17],[51,24,42,22],[51,25,42,23],[52,6,43,4],[53,4,44,2],[53,5,44,3],[54,4,46,2],[54,10,46,8,"login"],[54,15,46,13],[54,18,46,16],[54,24,46,16,"login"],[54,25,46,23,"email"],[54,30,46,36],[54,32,46,38,"password"],[54,40,46,54],[54,45,46,59],[55,6,47,4],[55,12,47,10,"response"],[55,20,47,18],[55,23,47,21],[55,29,47,27,"axios"],[55,34,47,32],[55,35,47,32,"default"],[55,42,47,32],[55,43,47,33,"post"],[55,47,47,37],[55,48,48,6],[55,51,48,9,"API_URL"],[55,58,48,16],[55,75,48,33],[55,77,49,6],[56,8,49,8,"email"],[56,13,49,13],[57,8,49,15,"password"],[58,6,49,24],[58,7,49,25],[58,9,50,6],[59,8,50,8,"withCredentials"],[59,23,50,23],[59,25,50,25],[60,6,50,30],[60,7,51,4],[60,8,51,5],[61,6,52,4,"setUser"],[61,13,52,11],[61,14,52,12,"response"],[61,22,52,20],[61,23,52,21,"data"],[61,27,52,25],[61,28,52,26],[62,4,53,2],[62,5,53,3],[63,4,55,2],[63,10,55,8,"register"],[63,18,55,16],[63,21,55,19],[63,27,55,19,"register"],[63,28,55,26,"email"],[63,33,55,39],[63,35,55,41,"password"],[63,43,55,57],[63,45,55,59,"name"],[63,49,55,71],[63,54,55,76],[64,6,56,4],[64,12,56,10,"response"],[64,20,56,18],[64,23,56,21],[64,29,56,27,"axios"],[64,34,56,32],[64,35,56,32,"default"],[64,42,56,32],[64,43,56,33,"post"],[64,47,56,37],[64,48,57,6],[64,51,57,9,"API_URL"],[64,58,57,16],[64,78,57,36],[64,80,58,6],[65,8,58,8,"email"],[65,13,58,13],[66,8,58,15,"password"],[66,16,58,23],[67,8,58,25,"name"],[68,6,58,30],[68,7,58,31],[68,9,59,6],[69,8,59,8,"withCredentials"],[69,23,59,23],[69,25,59,25],[70,6,59,30],[70,7,60,4],[70,8,60,5],[71,6,61,4,"setUser"],[71,13,61,11],[71,14,61,12,"response"],[71,22,61,20],[71,23,61,21,"data"],[71,27,61,25],[71,28,61,26],[72,4,62,2],[72,5,62,3],[73,4,64,2],[73,10,64,8,"logout"],[73,16,64,14],[73,19,64,17],[73,25,64,17,"logout"],[73,26,64,17],[73,31,64,29],[74,6,65,4],[74,12,65,10,"axios"],[74,17,65,15],[74,18,65,15,"default"],[74,25,65,15],[74,26,65,16,"post"],[74,30,65,20],[74,31,65,21],[74,34,65,24,"API_URL"],[74,41,65,31],[74,59,65,49],[74,61,65,51],[74,62,65,52],[74,63,65,53],[74,65,65,55],[75,8,65,57,"withCredentials"],[75,23,65,72],[75,25,65,74],[76,6,65,79],[76,7,65,80],[76,8,65,81],[77,6,66,4,"setUser"],[77,13,66,11],[77,14,66,12],[77,18,66,16],[77,19,66,17],[78,4,67,2],[78,5,67,3],[79,4,69,2],[79,10,69,8,"loginWithGoogle"],[79,25,69,23],[79,28,69,26,"loginWithGoogle"],[79,29,69,26],[79,34,69,32],[80,6,70,4],[81,6,71,4],[81,12,71,10,"redirectUri"],[81,23,71,21],[81,26,71,24,"encodeURIComponent"],[81,44,71,42],[81,45,71,43,"window"],[81,51,71,49],[81,52,71,50,"location"],[81,60,71,58],[81,61,71,59,"origin"],[81,67,71,65],[81,70,71,68],[81,86,71,84],[81,87,71,85],[82,6,72,4],[82,12,72,10,"authUrl"],[82,19,72,17],[82,22,72,20],[82,104,72,102,"redirectUri"],[82,115,72,113],[82,117,72,115],[83,6,73,4,"window"],[83,12,73,10],[83,13,73,11,"location"],[83,21,73,19],[83,22,73,20,"href"],[83,26,73,24],[83,29,73,27,"authUrl"],[83,36,73,34],[84,4,74,2],[84,5,74,3],[85,4,76,2],[85,24,77,4],[85,28,77,4,"_reactJsxDevRuntime"],[85,47,77,4],[85,48,77,4,"jsxDEV"],[85,54,77,4],[85,56,77,5,"AuthContext"],[85,67,77,16],[85,68,77,17,"Provider"],[85,76,77,25],[86,6,77,26,"value"],[86,11,77,31],[86,13,77,33],[87,8,77,35,"user"],[87,12,77,39],[88,8,77,41,"loading"],[88,15,77,48],[89,8,77,50,"login"],[89,13,77,55],[90,8,77,57,"register"],[90,16,77,65],[91,8,77,67,"logout"],[91,14,77,73],[92,8,77,75,"loginWithGoogle"],[93,6,77,91],[93,7,77,93],[94,6,77,93,"children"],[94,14,77,93],[94,16,78,7,"children"],[95,4,78,15],[96,6,78,15,"fileName"],[96,14,78,15],[96,16,78,15,"_jsxFileName"],[96,28,78,15],[97,6,78,15,"lineNumber"],[97,16,78,15],[98,6,78,15,"columnNumber"],[98,18,78,15],[99,4,78,15],[99,11,79,26],[99,12,79,27],[100,2,81,0],[100,3,81,1],[101,2,81,2,"_s"],[101,4,81,2],[101,5,25,13,"AuthProvider"],[101,17,25,66],[102,2,25,66,"_c"],[102,4,25,66],[102,7,25,13,"AuthProvider"],[102,19,25,66],[103,2,83,7],[103,8,83,13,"useAuth"],[103,15,83,20],[103,18,83,23,"useAuth"],[103,19,83,23],[103,24,83,29],[104,4,83,29,"_s2"],[104,7,83,29],[105,4,84,2],[105,10,84,8,"context"],[105,17,84,15],[105,20,84,18],[105,24,84,18,"useContext"],[105,30,84,28],[105,31,84,28,"useContext"],[105,41,84,28],[105,43,84,29,"AuthContext"],[105,54,84,40],[105,55,84,41],[106,4,85,2],[106,8,85,6],[106,9,85,7,"context"],[106,16,85,14],[106,18,85,16],[107,6,86,4],[107,12,86,10],[107,16,86,14,"Error"],[107,21,86,19],[107,22,86,20],[107,64,86,62],[107,65,86,63],[108,4,87,2],[109,4,88,2],[109,11,88,9,"context"],[109,18,88,16],[110,2,89,0],[110,3,89,1],[111,2,89,2,"_s2"],[111,5,89,2],[111,6,83,13,"useAuth"],[111,13,83,20],[112,2,83,20],[112,6,83,20,"_c"],[112,8,83,20],[113,2,83,20,"$RefreshReg$"],[113,14,83,20],[113,15,83,20,"_c"],[113,17,83,20],[114,0,83,20],[114,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","loginWithGoogle","useAuth"],"mappings":"AAA;qECwB;YCI;GDE;oBEE;GFW;gBGE;GHO;mBIE;GJO;iBKE;GLG;0BME;GNK;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}