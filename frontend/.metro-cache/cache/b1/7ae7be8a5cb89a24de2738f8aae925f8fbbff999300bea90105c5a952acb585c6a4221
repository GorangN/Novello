{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":26,"index":256}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Get backend URL from environment or use appropriate default\n  const getBaseURL = () => {\n    // For native apps (iOS/Android)\n    if (Platform.default.OS !== 'web') {\n      // Use the EXPO_PUBLIC_BACKEND_URL which is the preview URL\n      const backendUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n      if (backendUrl) {\n        console.log('Using backend URL:', backendUrl);\n        return backendUrl;\n      }\n\n      // Fallback\n      return 'http://localhost:8001';\n    }\n\n    // For web\n    if (typeof window !== 'undefined') {\n      return window.location.origin;\n    }\n    return '';\n  };\n  const API_URL = getBaseURL();\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          withCredentials: true\n        });\n        setUser(response.data);\n      } catch (error) {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const register = async (email, password, name) => {\n      try {\n        console.log('AuthContext: Attempting registration to:', `${API_URL}/api/auth/register`);\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          name\n        }, {\n          withCredentials: true\n        });\n        console.log('AuthContext: Registration response:', response.data);\n        setUser(response.data);\n      } catch (error) {\n        console.error('AuthContext: Registration error:', error);\n        console.error('AuthContext: Error details:', error.response?.data);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      await axios.default.post(`${API_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n      setUser(null);\n    };\n    const loginWithGoogle = () => {\n      if (Platform.default.OS === 'web') {\n        // For now, show message that Google login will be enabled soon\n        alert('Google login is coming soon! Please use email/password registration for now.');\n      } else {\n        // On mobile, we can implement later\n        alert('Google login is coming soon! Please use email/password registration for now.');\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":150,"map":[[15,2,50,0,"Object"],[15,8,50,0],[15,9,50,0,"defineProperty"],[15,23,50,0],[15,24,50,0,"exports"],[15,31,50,0],[16,4,50,0,"enumerable"],[16,14,50,0],[17,4,50,0,"get"],[17,7,50,0],[17,18,50,0,"get"],[17,19,50,0],[18,6,50,0],[18,13,50,0,"AuthProvider"],[18,25,50,0],[19,4,50,0],[20,2,50,0],[21,2,119,0,"Object"],[21,8,119,0],[21,9,119,0,"defineProperty"],[21,23,119,0],[21,24,119,0,"exports"],[21,31,119,0],[22,4,119,0,"enumerable"],[22,14,119,0],[23,4,119,0,"get"],[23,7,119,0],[23,18,119,0,"get"],[23,19,119,0],[24,6,119,0],[24,13,119,0,"useAuth"],[24,20,119,0],[25,4,119,0],[26,2,119,0],[27,2,125,2],[27,6,125,2,"_expoVirtualEnv"],[27,21,125,2],[27,24,125,2,"require"],[27,31,125,2],[27,32,125,2,"_dependencyMap"],[27,46,125,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,1,78],[29,6,1,78,"_reactNativeWebDistExportsPlatform"],[29,40,1,78],[29,43,1,78,"require"],[29,50,1,78],[29,51,1,78,"_dependencyMap"],[29,65,1,78],[30,2,1,78],[30,6,1,78,"Platform"],[30,14,1,78],[30,17,1,78,"_interopDefault"],[30,32,1,78],[30,33,1,78,"_reactNativeWebDistExportsPlatform"],[30,67,1,78],[31,2,5,0],[31,6,5,0,"_axios"],[31,12,5,0],[31,15,5,0,"require"],[31,22,5,0],[31,23,5,0,"_dependencyMap"],[31,37,5,0],[32,2,5,0],[32,6,5,0,"axios"],[32,11,5,0],[32,14,5,0,"_interopDefault"],[32,29,5,0],[32,30,5,0,"_axios"],[32,36,5,0],[33,2,5,26],[33,6,5,26,"_reactJsxDevRuntime"],[33,25,5,26],[33,28,5,26,"require"],[33,35,5,26],[33,36,5,26,"_dependencyMap"],[33,50,5,26],[34,2,23,0],[34,8,23,6,"AuthContext"],[34,19,23,17],[34,35,23,20],[34,39,23,20,"createContext"],[34,45,23,33],[34,46,23,33,"createContext"],[34,59,23,33],[34,61,23,63,"undefined"],[34,70,23,72],[34,71,23,73],[36,2,25,0],[37,2,26,0],[37,8,26,6,"getBaseURL"],[37,18,26,16],[37,21,26,19,"getBaseURL"],[37,22,26,19],[37,27,26,25],[38,4,27,2],[39,4,28,2],[39,8,28,6,"Platform"],[39,16,28,14],[39,17,28,14,"default"],[39,24,28,14],[39,25,28,15,"OS"],[39,27,28,17],[39,32,28,22],[39,37,28,27],[39,39,28,29],[40,6,29,4],[41,6,30,4],[41,12,30,10,"backendUrl"],[41,22,30,20],[41,25,30,20,"_expoVirtualEnv"],[41,40,30,20],[41,41,30,20,"env"],[41,44,30,20],[41,45,30,20,"EXPO_PUBLIC_BACKEND_URL"],[41,68,30,58],[42,6,31,4],[42,10,31,8,"backendUrl"],[42,20,31,18],[42,22,31,20],[43,8,32,6,"console"],[43,15,32,13],[43,16,32,14,"log"],[43,19,32,17],[43,20,32,18],[43,40,32,38],[43,42,32,40,"backendUrl"],[43,52,32,50],[43,53,32,51],[44,8,33,6],[44,15,33,13,"backendUrl"],[44,25,33,23],[45,6,34,4],[47,6,36,4],[48,6,37,4],[48,13,37,11],[48,36,37,34],[49,4,38,2],[51,4,40,2],[52,4,41,2],[52,8,41,6],[52,15,41,13,"window"],[52,21,41,19],[52,26,41,24],[52,37,41,35],[52,39,41,37],[53,6,42,4],[53,13,42,11,"window"],[53,19,42,17],[53,20,42,18,"location"],[53,28,42,26],[53,29,42,27,"origin"],[53,35,42,33],[54,4,43,2],[55,4,45,2],[55,11,45,9],[55,13,45,11],[56,2,46,0],[56,3,46,1],[57,2,48,0],[57,8,48,6,"API_URL"],[57,15,48,13],[57,18,48,16,"getBaseURL"],[57,28,48,26],[57,29,48,27],[57,30,48,28],[58,2,50,7],[58,8,50,13,"AuthProvider"],[58,20,50,66],[58,23,50,69,"AuthProvider"],[58,24,50,70],[59,4,50,72,"children"],[60,2,50,81],[60,3,50,82],[60,8,50,87],[61,4,50,87,"_s"],[61,6,50,87],[62,4,51,2],[62,10,51,8],[62,11,51,9,"user"],[62,15,51,13],[62,17,51,15,"setUser"],[62,24,51,22],[62,25,51,23],[62,28,51,26],[62,32,51,26,"useState"],[62,38,51,34],[62,39,51,34,"useState"],[62,47,51,34],[62,49,51,48],[62,53,51,52],[62,54,51,53],[63,4,52,2],[63,10,52,8],[63,11,52,9,"loading"],[63,18,52,16],[63,20,52,18,"setLoading"],[63,30,52,28],[63,31,52,29],[63,34,52,32],[63,38,52,32,"useState"],[63,44,52,40],[63,45,52,40,"useState"],[63,53,52,40],[63,55,52,41],[63,59,52,45],[63,60,52,46],[64,4,54,2],[64,8,54,2,"useEffect"],[64,14,54,11],[64,15,54,11,"useEffect"],[64,24,54,11],[64,26,54,12],[64,32,54,18],[65,6,55,4,"checkAuth"],[65,15,55,13],[65,16,55,14],[65,17,55,15],[66,4,56,2],[66,5,56,3],[66,7,56,5],[66,9,56,7],[66,10,56,8],[67,4,58,2],[67,10,58,8,"checkAuth"],[67,19,58,17],[67,22,58,20],[67,28,58,20,"checkAuth"],[67,29,58,20],[67,34,58,32],[68,6,59,4],[68,10,59,8],[69,8,60,6],[69,14,60,12,"response"],[69,22,60,20],[69,25,60,23],[69,31,60,29,"axios"],[69,36,60,34],[69,37,60,34,"default"],[69,44,60,34],[69,45,60,35,"get"],[69,48,60,38],[69,49,60,39],[69,52,60,42,"API_URL"],[69,59,60,49],[69,73,60,63],[69,75,60,65],[70,10,61,8,"withCredentials"],[70,25,61,23],[70,27,61,25],[71,8,62,6],[71,9,62,7],[71,10,62,8],[72,8,63,6,"setUser"],[72,15,63,13],[72,16,63,14,"response"],[72,24,63,22],[72,25,63,23,"data"],[72,29,63,27],[72,30,63,28],[73,6,64,4],[73,7,64,5],[73,8,64,6],[73,15,64,13,"error"],[73,20,64,18],[73,22,64,20],[74,8,65,6,"setUser"],[74,15,65,13],[74,16,65,14],[74,20,65,18],[74,21,65,19],[75,6,66,4],[75,7,66,5],[75,16,66,14],[76,8,67,6,"setLoading"],[76,18,67,16],[76,19,67,17],[76,24,67,22],[76,25,67,23],[77,6,68,4],[78,4,69,2],[78,5,69,3],[79,4,71,2],[79,10,71,8,"login"],[79,15,71,13],[79,18,71,16],[79,24,71,16,"login"],[79,25,71,23,"email"],[79,30,71,36],[79,32,71,38,"password"],[79,40,71,54],[79,45,71,59],[80,6,72,4],[80,12,72,10,"response"],[80,20,72,18],[80,23,72,21],[80,29,72,27,"axios"],[80,34,72,32],[80,35,72,32,"default"],[80,42,72,32],[80,43,72,33,"post"],[80,47,72,37],[80,48,73,6],[80,51,73,9,"API_URL"],[80,58,73,16],[80,75,73,33],[80,77,74,6],[81,8,74,8,"email"],[81,13,74,13],[82,8,74,15,"password"],[83,6,74,24],[83,7,74,25],[83,9,75,6],[84,8,75,8,"withCredentials"],[84,23,75,23],[84,25,75,25],[85,6,75,30],[85,7,76,4],[85,8,76,5],[86,6,77,4,"setUser"],[86,13,77,11],[86,14,77,12,"response"],[86,22,77,20],[86,23,77,21,"data"],[86,27,77,25],[86,28,77,26],[87,4,78,2],[87,5,78,3],[88,4,80,2],[88,10,80,8,"register"],[88,18,80,16],[88,21,80,19],[88,27,80,19,"register"],[88,28,80,26,"email"],[88,33,80,39],[88,35,80,41,"password"],[88,43,80,57],[88,45,80,59,"name"],[88,49,80,71],[88,54,80,76],[89,6,81,4],[89,10,81,8],[90,8,82,6,"console"],[90,15,82,13],[90,16,82,14,"log"],[90,19,82,17],[90,20,82,18],[90,62,82,60],[90,64,82,62],[90,67,82,65,"API_URL"],[90,74,82,72],[90,94,82,92],[90,95,82,93],[91,8,83,6],[91,14,83,12,"response"],[91,22,83,20],[91,25,83,23],[91,31,83,29,"axios"],[91,36,83,34],[91,37,83,34,"default"],[91,44,83,34],[91,45,83,35,"post"],[91,49,83,39],[91,50,84,8],[91,53,84,11,"API_URL"],[91,60,84,18],[91,80,84,38],[91,82,85,8],[92,10,85,10,"email"],[92,15,85,15],[93,10,85,17,"password"],[93,18,85,25],[94,10,85,27,"name"],[95,8,85,32],[95,9,85,33],[95,11,86,8],[96,10,86,10,"withCredentials"],[96,25,86,25],[96,27,86,27],[97,8,86,32],[97,9,87,6],[97,10,87,7],[98,8,88,6,"console"],[98,15,88,13],[98,16,88,14,"log"],[98,19,88,17],[98,20,88,18],[98,57,88,55],[98,59,88,57,"response"],[98,67,88,65],[98,68,88,66,"data"],[98,72,88,70],[98,73,88,71],[99,8,89,6,"setUser"],[99,15,89,13],[99,16,89,14,"response"],[99,24,89,22],[99,25,89,23,"data"],[99,29,89,27],[99,30,89,28],[100,6,90,4],[100,7,90,5],[100,8,90,6],[100,15,90,13,"error"],[100,20,90,23],[100,22,90,25],[101,8,91,6,"console"],[101,15,91,13],[101,16,91,14,"error"],[101,21,91,19],[101,22,91,20],[101,56,91,54],[101,58,91,56,"error"],[101,63,91,61],[101,64,91,62],[102,8,92,6,"console"],[102,15,92,13],[102,16,92,14,"error"],[102,21,92,19],[102,22,92,20],[102,51,92,49],[102,53,92,51,"error"],[102,58,92,56],[102,59,92,57,"response"],[102,67,92,65],[102,69,92,67,"data"],[102,73,92,71],[102,74,92,72],[103,8,93,6],[103,14,93,12,"error"],[103,19,93,17],[104,6,94,4],[105,4,95,2],[105,5,95,3],[106,4,97,2],[106,10,97,8,"logout"],[106,16,97,14],[106,19,97,17],[106,25,97,17,"logout"],[106,26,97,17],[106,31,97,29],[107,6,98,4],[107,12,98,10,"axios"],[107,17,98,15],[107,18,98,15,"default"],[107,25,98,15],[107,26,98,16,"post"],[107,30,98,20],[107,31,98,21],[107,34,98,24,"API_URL"],[107,41,98,31],[107,59,98,49],[107,61,98,51],[107,62,98,52],[107,63,98,53],[107,65,98,55],[108,8,98,57,"withCredentials"],[108,23,98,72],[108,25,98,74],[109,6,98,79],[109,7,98,80],[109,8,98,81],[110,6,99,4,"setUser"],[110,13,99,11],[110,14,99,12],[110,18,99,16],[110,19,99,17],[111,4,100,2],[111,5,100,3],[112,4,102,2],[112,10,102,8,"loginWithGoogle"],[112,25,102,23],[112,28,102,26,"loginWithGoogle"],[112,29,102,26],[112,34,102,32],[113,6,103,4],[113,10,103,8,"Platform"],[113,18,103,16],[113,19,103,16,"default"],[113,26,103,16],[113,27,103,17,"OS"],[113,29,103,19],[113,34,103,24],[113,39,103,29],[113,41,103,31],[114,8,104,6],[115,8,105,6,"alert"],[115,13,105,11],[115,14,105,12],[115,92,105,90],[115,93,105,91],[116,6,106,4],[116,7,106,5],[116,13,106,11],[117,8,107,6],[118,8,108,6,"alert"],[118,13,108,11],[118,14,108,12],[118,92,108,90],[118,93,108,91],[119,6,109,4],[120,4,110,2],[120,5,110,3],[121,4,112,2],[121,24,113,4],[121,28,113,4,"_reactJsxDevRuntime"],[121,47,113,4],[121,48,113,4,"jsxDEV"],[121,54,113,4],[121,56,113,5,"AuthContext"],[121,67,113,16],[121,68,113,17,"Provider"],[121,76,113,25],[122,6,113,26,"value"],[122,11,113,31],[122,13,113,33],[123,8,113,35,"user"],[123,12,113,39],[124,8,113,41,"loading"],[124,15,113,48],[125,8,113,50,"login"],[125,13,113,55],[126,8,113,57,"register"],[126,16,113,65],[127,8,113,67,"logout"],[127,14,113,73],[128,8,113,75,"loginWithGoogle"],[129,6,113,91],[129,7,113,93],[130,6,113,93,"children"],[130,14,113,93],[130,16,114,7,"children"],[131,4,114,15],[132,6,114,15,"fileName"],[132,14,114,15],[132,16,114,15,"_jsxFileName"],[132,28,114,15],[133,6,114,15,"lineNumber"],[133,16,114,15],[134,6,114,15,"columnNumber"],[134,18,114,15],[135,4,114,15],[135,11,115,26],[135,12,115,27],[136,2,117,0],[136,3,117,1],[137,2,117,2,"_s"],[137,4,117,2],[137,5,50,13,"AuthProvider"],[137,17,50,66],[138,2,50,66,"_c"],[138,4,50,66],[138,7,50,13,"AuthProvider"],[138,19,50,66],[139,2,119,7],[139,8,119,13,"useAuth"],[139,15,119,20],[139,18,119,23,"useAuth"],[139,19,119,23],[139,24,119,29],[140,4,119,29,"_s2"],[140,7,119,29],[141,4,120,2],[141,10,120,8,"context"],[141,17,120,15],[141,20,120,18],[141,24,120,18,"useContext"],[141,30,120,28],[141,31,120,28,"useContext"],[141,41,120,28],[141,43,120,29,"AuthContext"],[141,54,120,40],[141,55,120,41],[142,4,121,2],[142,8,121,6],[142,9,121,7,"context"],[142,16,121,14],[142,18,121,16],[143,6,122,4],[143,12,122,10],[143,16,122,14,"Error"],[143,21,122,19],[143,22,122,20],[143,64,122,62],[143,65,122,63],[144,4,123,2],[145,4,124,2],[145,11,124,9,"context"],[145,18,124,16],[146,2,125,0],[146,3,125,1],[147,2,125,2,"_s2"],[147,5,125,2],[147,6,119,13,"useAuth"],[147,13,119,20],[148,2,119,20],[148,6,119,20,"_c"],[148,8,119,20],[149,2,119,20,"$RefreshReg$"],[149,14,119,20],[149,15,119,20,"_c"],[149,17,119,20],[150,0,119,20],[150,3]],"functionMap":{"names":["<global>","getBaseURL","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","loginWithGoogle","useAuth"],"mappings":"AAA;mBCyB;CDoB;qEEI;YCI;GDE;oBEE;GFW;gBGE;GHO;mBIE;GJe;iBKE;GLG;0BME;GNQ;CFO;uBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}