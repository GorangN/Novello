{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":73,"index":115}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":116},"end":{"line":3,"column":62,"index":178}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":26,"index":205}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth/callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var API_URL = typeof window !== 'undefined' ? window.location.origin : '';\n  function AuthCallback() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var params = (0, _expoRouter.useLocalSearchParams)();\n    (0, _react.useEffect)(() => {\n      var processCallback = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var sessionId = params.session_id;\n            if (!sessionId) {\n              throw new Error('No session ID received');\n            }\n\n            // Send session_id to backend\n            yield axios.default.post(`${API_URL}/api/auth/session`, {}, {\n              headers: {\n                'X-Session-ID': sessionId\n              },\n              withCredentials: true\n            });\n\n            // Redirect to main app\n            router.replace('/currently-reading');\n          } catch (error) {\n            console.error('Auth callback error:', error);\n            router.replace('/auth/login');\n          }\n        });\n        return function processCallback() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      processCallback();\n    }, [params]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#4A90E2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: styles.text,\n        children: \"Completing sign in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"Xgd2mmLTJ9rtfx6NSqeuKy+rqns=\", false, function () {\n    return [_expoRouter.useRouter, _expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallback;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#F5F5F5'\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: '#8E8E93'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":105,"map":[[14,2,8,15,"Object"],[14,8,8,15],[14,9,8,15,"defineProperty"],[14,23,8,15],[14,24,8,15,"exports"],[14,31,8,15],[15,4,8,15,"enumerable"],[15,14,8,15],[16,4,8,15,"get"],[16,7,8,15],[16,18,8,15,"get"],[16,19,8,15],[17,6,8,15],[17,13,8,15,"AuthCallback"],[17,25,8,15],[18,4,8,15],[19,2,8,15],[20,2,48,1],[20,6,48,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,48,1],[20,45,48,1,"require"],[20,52,48,1],[20,53,48,1,"_dependencyMap"],[20,67,48,1],[21,2,48,1],[21,6,48,1,"_asyncToGenerator"],[21,23,48,1],[21,26,48,1,"_interopDefault"],[21,41,48,1],[21,42,48,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,48,1],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNative"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_axios"],[25,12,4,0],[25,15,4,0,"require"],[25,22,4,0],[25,23,4,0,"_dependencyMap"],[25,37,4,0],[26,2,4,0],[26,6,4,0,"axios"],[26,11,4,0],[26,14,4,0,"_interopDefault"],[26,29,4,0],[26,30,4,0,"_axios"],[26,36,4,0],[27,2,4,26],[27,6,4,26,"_reactJsxDevRuntime"],[27,25,4,26],[27,28,4,26,"require"],[27,35,4,26],[27,36,4,26,"_dependencyMap"],[27,50,4,26],[28,2,6,0],[28,6,6,6,"API_URL"],[28,13,6,13],[28,16,6,16],[28,23,6,23,"window"],[28,29,6,29],[28,34,6,34],[28,45,6,45],[28,48,6,48,"window"],[28,54,6,54],[28,55,6,55,"location"],[28,63,6,63],[28,64,6,64,"origin"],[28,70,6,70],[28,73,6,73],[28,75,6,75],[29,2,8,15],[29,11,8,24,"AuthCallback"],[29,23,8,36,"AuthCallback"],[29,24,8,36],[29,26,8,39],[30,4,8,39,"_s"],[30,6,8,39],[31,4,9,2],[31,8,9,8,"router"],[31,14,9,14],[31,17,9,17],[31,21,9,17,"useRouter"],[31,32,9,26],[31,33,9,26,"useRouter"],[31,42,9,26],[31,44,9,27],[31,45,9,28],[32,4,10,2],[32,8,10,8,"params"],[32,14,10,14],[32,17,10,17],[32,21,10,17,"useLocalSearchParams"],[32,32,10,37],[32,33,10,37,"useLocalSearchParams"],[32,53,10,37],[32,55,10,38],[32,56,10,39],[33,4,12,2],[33,8,12,2,"useEffect"],[33,14,12,11],[33,15,12,11,"useEffect"],[33,24,12,11],[33,26,12,12],[33,32,12,18],[34,6,13,4],[34,10,13,10,"processCallback"],[34,25,13,25],[35,8,13,25],[35,12,13,25,"_ref"],[35,16,13,25],[35,23,13,25,"_asyncToGenerator"],[35,40,13,25],[35,41,13,25,"default"],[35,48,13,25],[35,50,13,28],[35,63,13,40],[36,10,14,6],[36,14,14,10],[37,12,15,8],[37,16,15,14,"sessionId"],[37,25,15,23],[37,28,15,26,"params"],[37,34,15,32],[37,35,15,33,"session_id"],[37,45,15,43],[38,12,17,8],[38,16,17,12],[38,17,17,13,"sessionId"],[38,26,17,22],[38,28,17,24],[39,14,18,10],[39,20,18,16],[39,24,18,20,"Error"],[39,29,18,25],[39,30,18,26],[39,54,18,50],[39,55,18,51],[40,12,19,8],[42,12,21,8],[43,12,22,8],[43,18,22,14,"axios"],[43,23,22,19],[43,24,22,19,"default"],[43,31,22,19],[43,32,22,20,"post"],[43,36,22,24],[43,37,23,10],[43,40,23,13,"API_URL"],[43,47,23,20],[43,66,23,39],[43,68,24,10],[43,69,24,11],[43,70,24,12],[43,72,25,10],[44,14,26,12,"headers"],[44,21,26,19],[44,23,26,21],[45,16,26,23],[45,30,26,37],[45,32,26,39,"sessionId"],[46,14,26,49],[46,15,26,50],[47,14,27,12,"withCredentials"],[47,29,27,27],[47,31,27,29],[48,12,28,10],[48,13,29,8],[48,14,29,9],[50,12,31,8],[51,12,32,8,"router"],[51,18,32,14],[51,19,32,15,"replace"],[51,26,32,22],[51,27,32,23],[51,47,32,43],[51,48,32,44],[52,10,33,6],[52,11,33,7],[52,12,33,8],[52,19,33,15,"error"],[52,24,33,20],[52,26,33,22],[53,12,34,8,"console"],[53,19,34,15],[53,20,34,16,"error"],[53,25,34,21],[53,26,34,22],[53,48,34,44],[53,50,34,46,"error"],[53,55,34,51],[53,56,34,52],[54,12,35,8,"router"],[54,18,35,14],[54,19,35,15,"replace"],[54,26,35,22],[54,27,35,23],[54,40,35,36],[54,41,35,37],[55,10,36,6],[56,8,37,4],[56,9,37,5],[57,8,37,5],[57,24,13,10,"processCallback"],[57,39,13,25,"processCallback"],[57,40,13,25],[58,10,13,25],[58,17,13,25,"_ref"],[58,21,13,25],[58,22,13,25,"apply"],[58,27,13,25],[58,34,13,25,"arguments"],[58,43,13,25],[59,8,13,25],[60,6,13,25],[60,9,37,5],[61,6,39,4,"processCallback"],[61,21,39,19],[61,22,39,20],[61,23,39,21],[62,4,40,2],[62,5,40,3],[62,7,40,5],[62,8,40,6,"params"],[62,14,40,12],[62,15,40,13],[62,16,40,14],[63,4,42,2],[63,24,43,4],[63,28,43,4,"_reactJsxDevRuntime"],[63,47,43,4],[63,48,43,4,"jsxDEV"],[63,54,43,4],[63,56,43,5,"_reactNative"],[63,68,43,9],[63,69,43,9,"View"],[63,73,43,9],[64,6,43,10,"style"],[64,11,43,15],[64,13,43,17,"styles"],[64,19,43,23],[64,20,43,24,"container"],[64,29,43,34],[65,6,43,34,"children"],[65,14,43,34],[65,30,44,6],[65,34,44,6,"_reactJsxDevRuntime"],[65,53,44,6],[65,54,44,6,"jsxDEV"],[65,60,44,6],[65,62,44,7,"_reactNative"],[65,74,44,24],[65,75,44,24,"ActivityIndicator"],[65,92,44,24],[66,8,44,25,"size"],[66,12,44,29],[66,14,44,30],[66,21,44,37],[67,8,44,38,"color"],[67,13,44,43],[67,15,44,44],[68,6,44,53],[69,8,44,53,"fileName"],[69,16,44,53],[69,18,44,53,"_jsxFileName"],[69,30,44,53],[70,8,44,53,"lineNumber"],[70,18,44,53],[71,8,44,53,"columnNumber"],[71,20,44,53],[72,6,44,53],[72,13,44,55],[72,14,44,56],[72,29,45,6],[72,33,45,6,"_reactJsxDevRuntime"],[72,52,45,6],[72,53,45,6,"jsxDEV"],[72,59,45,6],[72,61,45,7,"_reactNative"],[72,73,45,11],[72,74,45,11,"Text"],[72,78,45,11],[73,8,45,12,"style"],[73,13,45,17],[73,15,45,19,"styles"],[73,21,45,25],[73,22,45,26,"text"],[73,26,45,31],[74,8,45,31,"children"],[74,16,45,31],[74,18,45,32],[75,6,45,53],[76,8,45,53,"fileName"],[76,16,45,53],[76,18,45,53,"_jsxFileName"],[76,30,45,53],[77,8,45,53,"lineNumber"],[77,18,45,53],[78,8,45,53,"columnNumber"],[78,20,45,53],[79,6,45,53],[79,13,45,59],[79,14,45,60],[80,4,45,60],[81,6,45,60,"fileName"],[81,14,45,60],[81,16,45,60,"_jsxFileName"],[81,28,45,60],[82,6,45,60,"lineNumber"],[82,16,45,60],[83,6,45,60,"columnNumber"],[83,18,45,60],[84,4,45,60],[84,11,46,10],[84,12,46,11],[85,2,48,0],[86,2,48,1,"_s"],[86,4,48,1],[86,5,8,24,"AuthCallback"],[86,17,8,36],[87,4,8,36],[87,12,9,17,"useRouter"],[87,23,9,26],[87,24,9,26,"useRouter"],[87,33,9,26],[87,35,10,17,"useLocalSearchParams"],[87,46,10,37],[87,47,10,37,"useLocalSearchParams"],[87,67,10,37],[88,2,10,37],[89,2,10,37,"_c"],[89,4,10,37],[89,7,8,24,"AuthCallback"],[89,19,8,36],[90,2,50,0],[90,6,50,6,"styles"],[90,12,50,12],[90,15,50,15,"StyleSheet"],[90,27,50,25],[90,28,50,25,"StyleSheet"],[90,38,50,25],[90,39,50,26,"create"],[90,45,50,32],[90,46,50,33],[91,4,51,2,"container"],[91,13,51,11],[91,15,51,13],[92,6,52,4,"flex"],[92,10,52,8],[92,12,52,10],[92,13,52,11],[93,6,53,4,"justifyContent"],[93,20,53,18],[93,22,53,20],[93,30,53,28],[94,6,54,4,"alignItems"],[94,16,54,14],[94,18,54,16],[94,26,54,24],[95,6,55,4,"backgroundColor"],[95,21,55,19],[95,23,55,21],[96,4,56,2],[96,5,56,3],[97,4,57,2,"text"],[97,8,57,6],[97,10,57,8],[98,6,58,4,"marginTop"],[98,15,58,13],[98,17,58,15],[98,19,58,17],[99,6,59,4,"fontSize"],[99,14,59,12],[99,16,59,14],[99,18,59,16],[100,6,60,4,"color"],[100,11,60,9],[100,13,60,11],[101,4,61,2],[102,2,62,0],[102,3,62,1],[102,4,62,2],[103,2,62,3],[103,6,62,3,"_c"],[103,8,62,3],[104,2,62,3,"$RefreshReg$"],[104,14,62,3],[104,15,62,3,"_c"],[104,17,62,3],[105,0,62,3],[105,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processCallback"],"mappings":"AAA;eCO;YCI;4BCC;KDwB;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}