{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const API_URL = false ? window.location.origin : '';\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          withCredentials: true\n        });\n        setUser(response.data);\n      } catch (error) {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const register = async (email, password, name) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n        email,\n        password,\n        name\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const logout = async () => {\n      await axios.default.post(`${API_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n      setUser(null);\n    };\n    const loginWithGoogle = () => {\n      // Open Emergent OAuth\n      const redirectUri = encodeURIComponent(window.location.origin + '/auth/callback');\n      const authUrl = `https://demobackend.emergentagent.com/auth/v1/env/oauth/authorize?redirect_uri=${redirectUri}`;\n      window.location.href = authUrl;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":105,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,83,0,"Object"],[19,8,83,0],[19,9,83,0,"defineProperty"],[19,23,83,0],[19,24,83,0,"exports"],[19,31,83,0],[20,4,83,0,"enumerable"],[20,14,83,0],[21,4,83,0,"get"],[21,7,83,0],[21,18,83,0,"get"],[21,19,83,0],[22,6,83,0],[22,13,83,0,"useAuth"],[22,20,83,0],[23,4,83,0],[24,2,83,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,3,0],[26,6,3,0,"_axios"],[26,12,3,0],[26,15,3,0,"require"],[26,22,3,0],[26,23,3,0,"_dependencyMap"],[26,37,3,0],[27,2,3,0],[27,6,3,0,"axios"],[27,11,3,0],[27,14,3,0,"_interopDefault"],[27,29,3,0],[27,30,3,0,"_axios"],[27,36,3,0],[28,2,3,26],[28,6,3,26,"_reactJsxDevRuntime"],[28,25,3,26],[28,28,3,26,"require"],[28,35,3,26],[28,36,3,26,"_dependencyMap"],[28,50,3,26],[29,2,21,0],[29,8,21,6,"AuthContext"],[29,19,21,17],[29,35,21,20],[29,39,21,20,"createContext"],[29,45,21,33],[29,46,21,33,"createContext"],[29,59,21,33],[29,61,21,63,"undefined"],[29,70,21,72],[29,71,21,73],[30,2,23,0],[30,8,23,6,"API_URL"],[30,15,23,13],[30,18,23,16],[30,26,23,48,"window"],[30,32,23,54],[30,33,23,55,"location"],[30,41,23,63],[30,42,23,64,"origin"],[30,48,23,70],[30,51,23,73],[30,53,23,75],[31,2,25,7],[31,8,25,13,"AuthProvider"],[31,20,25,66],[31,23,25,69,"AuthProvider"],[31,24,25,70],[32,4,25,72,"children"],[33,2,25,81],[33,3,25,82],[33,8,25,87],[34,4,26,2],[34,10,26,8],[34,11,26,9,"user"],[34,15,26,13],[34,17,26,15,"setUser"],[34,24,26,22],[34,25,26,23],[34,28,26,26],[34,32,26,26,"useState"],[34,38,26,34],[34,39,26,34,"useState"],[34,47,26,34],[34,49,26,48],[34,53,26,52],[34,54,26,53],[35,4,27,2],[35,10,27,8],[35,11,27,9,"loading"],[35,18,27,16],[35,20,27,18,"setLoading"],[35,30,27,28],[35,31,27,29],[35,34,27,32],[35,38,27,32,"useState"],[35,44,27,40],[35,45,27,40,"useState"],[35,53,27,40],[35,55,27,41],[35,59,27,45],[35,60,27,46],[36,4,29,2],[36,8,29,2,"useEffect"],[36,14,29,11],[36,15,29,11,"useEffect"],[36,24,29,11],[36,26,29,12],[36,32,29,18],[37,6,30,4,"checkAuth"],[37,15,30,13],[37,16,30,14],[37,17,30,15],[38,4,31,2],[38,5,31,3],[38,7,31,5],[38,9,31,7],[38,10,31,8],[39,4,33,2],[39,10,33,8,"checkAuth"],[39,19,33,17],[39,22,33,20],[39,28,33,20,"checkAuth"],[39,29,33,20],[39,34,33,32],[40,6,34,4],[40,10,34,8],[41,8,35,6],[41,14,35,12,"response"],[41,22,35,20],[41,25,35,23],[41,31,35,29,"axios"],[41,36,35,34],[41,37,35,34,"default"],[41,44,35,34],[41,45,35,35,"get"],[41,48,35,38],[41,49,35,39],[41,52,35,42,"API_URL"],[41,59,35,49],[41,73,35,63],[41,75,35,65],[42,10,36,8,"withCredentials"],[42,25,36,23],[42,27,36,25],[43,8,37,6],[43,9,37,7],[43,10,37,8],[44,8,38,6,"setUser"],[44,15,38,13],[44,16,38,14,"response"],[44,24,38,22],[44,25,38,23,"data"],[44,29,38,27],[44,30,38,28],[45,6,39,4],[45,7,39,5],[45,8,39,6],[45,15,39,13,"error"],[45,20,39,18],[45,22,39,20],[46,8,40,6,"setUser"],[46,15,40,13],[46,16,40,14],[46,20,40,18],[46,21,40,19],[47,6,41,4],[47,7,41,5],[47,16,41,14],[48,8,42,6,"setLoading"],[48,18,42,16],[48,19,42,17],[48,24,42,22],[48,25,42,23],[49,6,43,4],[50,4,44,2],[50,5,44,3],[51,4,46,2],[51,10,46,8,"login"],[51,15,46,13],[51,18,46,16],[51,24,46,16,"login"],[51,25,46,23,"email"],[51,30,46,36],[51,32,46,38,"password"],[51,40,46,54],[51,45,46,59],[52,6,47,4],[52,12,47,10,"response"],[52,20,47,18],[52,23,47,21],[52,29,47,27,"axios"],[52,34,47,32],[52,35,47,32,"default"],[52,42,47,32],[52,43,47,33,"post"],[52,47,47,37],[52,48,48,6],[52,51,48,9,"API_URL"],[52,58,48,16],[52,75,48,33],[52,77,49,6],[53,8,49,8,"email"],[53,13,49,13],[54,8,49,15,"password"],[55,6,49,24],[55,7,49,25],[55,9,50,6],[56,8,50,8,"withCredentials"],[56,23,50,23],[56,25,50,25],[57,6,50,30],[57,7,51,4],[57,8,51,5],[58,6,52,4,"setUser"],[58,13,52,11],[58,14,52,12,"response"],[58,22,52,20],[58,23,52,21,"data"],[58,27,52,25],[58,28,52,26],[59,4,53,2],[59,5,53,3],[60,4,55,2],[60,10,55,8,"register"],[60,18,55,16],[60,21,55,19],[60,27,55,19,"register"],[60,28,55,26,"email"],[60,33,55,39],[60,35,55,41,"password"],[60,43,55,57],[60,45,55,59,"name"],[60,49,55,71],[60,54,55,76],[61,6,56,4],[61,12,56,10,"response"],[61,20,56,18],[61,23,56,21],[61,29,56,27,"axios"],[61,34,56,32],[61,35,56,32,"default"],[61,42,56,32],[61,43,56,33,"post"],[61,47,56,37],[61,48,57,6],[61,51,57,9,"API_URL"],[61,58,57,16],[61,78,57,36],[61,80,58,6],[62,8,58,8,"email"],[62,13,58,13],[63,8,58,15,"password"],[63,16,58,23],[64,8,58,25,"name"],[65,6,58,30],[65,7,58,31],[65,9,59,6],[66,8,59,8,"withCredentials"],[66,23,59,23],[66,25,59,25],[67,6,59,30],[67,7,60,4],[67,8,60,5],[68,6,61,4,"setUser"],[68,13,61,11],[68,14,61,12,"response"],[68,22,61,20],[68,23,61,21,"data"],[68,27,61,25],[68,28,61,26],[69,4,62,2],[69,5,62,3],[70,4,64,2],[70,10,64,8,"logout"],[70,16,64,14],[70,19,64,17],[70,25,64,17,"logout"],[70,26,64,17],[70,31,64,29],[71,6,65,4],[71,12,65,10,"axios"],[71,17,65,15],[71,18,65,15,"default"],[71,25,65,15],[71,26,65,16,"post"],[71,30,65,20],[71,31,65,21],[71,34,65,24,"API_URL"],[71,41,65,31],[71,59,65,49],[71,61,65,51],[71,62,65,52],[71,63,65,53],[71,65,65,55],[72,8,65,57,"withCredentials"],[72,23,65,72],[72,25,65,74],[73,6,65,79],[73,7,65,80],[73,8,65,81],[74,6,66,4,"setUser"],[74,13,66,11],[74,14,66,12],[74,18,66,16],[74,19,66,17],[75,4,67,2],[75,5,67,3],[76,4,69,2],[76,10,69,8,"loginWithGoogle"],[76,25,69,23],[76,28,69,26,"loginWithGoogle"],[76,29,69,26],[76,34,69,32],[77,6,70,4],[78,6,71,4],[78,12,71,10,"redirectUri"],[78,23,71,21],[78,26,71,24,"encodeURIComponent"],[78,44,71,42],[78,45,71,43,"window"],[78,51,71,49],[78,52,71,50,"location"],[78,60,71,58],[78,61,71,59,"origin"],[78,67,71,65],[78,70,71,68],[78,86,71,84],[78,87,71,85],[79,6,72,4],[79,12,72,10,"authUrl"],[79,19,72,17],[79,22,72,20],[79,104,72,102,"redirectUri"],[79,115,72,113],[79,117,72,115],[80,6,73,4,"window"],[80,12,73,10],[80,13,73,11,"location"],[80,21,73,19],[80,22,73,20,"href"],[80,26,73,24],[80,29,73,27,"authUrl"],[80,36,73,34],[81,4,74,2],[81,5,74,3],[82,4,76,2],[82,24,77,4],[82,28,77,4,"_reactJsxDevRuntime"],[82,47,77,4],[82,48,77,4,"jsxDEV"],[82,54,77,4],[82,56,77,5,"AuthContext"],[82,67,77,16],[82,68,77,17,"Provider"],[82,76,77,25],[83,6,77,26,"value"],[83,11,77,31],[83,13,77,33],[84,8,77,35,"user"],[84,12,77,39],[85,8,77,41,"loading"],[85,15,77,48],[86,8,77,50,"login"],[86,13,77,55],[87,8,77,57,"register"],[87,16,77,65],[88,8,77,67,"logout"],[88,14,77,73],[89,8,77,75,"loginWithGoogle"],[90,6,77,91],[90,7,77,93],[91,6,77,93,"children"],[91,14,77,93],[91,16,78,7,"children"],[92,4,78,15],[93,6,78,15,"fileName"],[93,14,78,15],[93,16,78,15,"_jsxFileName"],[93,28,78,15],[94,6,78,15,"lineNumber"],[94,16,78,15],[95,6,78,15,"columnNumber"],[95,18,78,15],[96,4,78,15],[96,11,79,26],[96,12,79,27],[97,2,81,0],[97,3,81,1],[98,2,83,7],[98,8,83,13,"useAuth"],[98,15,83,20],[98,18,83,23,"useAuth"],[98,19,83,23],[98,24,83,29],[99,4,84,2],[99,10,84,8,"context"],[99,17,84,15],[99,20,84,18],[99,24,84,18,"useContext"],[99,30,84,28],[99,31,84,28,"useContext"],[99,41,84,28],[99,43,84,29,"AuthContext"],[99,54,84,40],[99,55,84,41],[100,4,85,2],[100,8,85,6],[100,9,85,7,"context"],[100,16,85,14],[100,18,85,16],[101,6,86,4],[101,12,86,10],[101,16,86,14,"Error"],[101,21,86,19],[101,22,86,20],[101,64,86,62],[101,65,86,63],[102,4,87,2],[103,4,88,2],[103,11,88,9,"context"],[103,18,88,16],[104,2,89,0],[104,3,89,1],[105,0,89,2],[105,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","loginWithGoogle","useAuth"],"mappings":"AAA;qECwB;YCI;GDE;oBEE;GFW;gBGE;GHO;mBIE;GJO;iBKE;GLG;0BME;GNK;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}