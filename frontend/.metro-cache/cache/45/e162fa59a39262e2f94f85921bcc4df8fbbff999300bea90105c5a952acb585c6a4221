{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":26,"index":256}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Get backend URL from environment or use appropriate default\n  const getBaseURL = () => {\n    // For native apps (iOS/Android)\n    if (Platform.default.OS !== 'web') {\n      // Use the EXPO_PUBLIC_BACKEND_URL which is the preview URL\n      const backendUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n      if (backendUrl) {\n        console.log('Using backend URL:', backendUrl);\n        return backendUrl;\n      }\n\n      // Fallback\n      return 'http://localhost:8001';\n    }\n\n    // For web\n    if (false) {\n      return window.location.origin;\n    }\n    return '';\n  };\n  const API_URL = getBaseURL();\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          withCredentials: true\n        });\n        setUser(response.data);\n      } catch (error) {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n      setUser(response.data);\n    };\n    const register = async (email, password, name) => {\n      try {\n        console.log('AuthContext: Attempting registration to:', `${API_URL}/api/auth/register`);\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          name\n        }, {\n          withCredentials: true\n        });\n        console.log('AuthContext: Registration response:', response.data);\n        setUser(response.data);\n      } catch (error) {\n        console.error('AuthContext: Registration error:', error);\n        console.error('AuthContext: Error details:', error.response?.data);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      await axios.default.post(`${API_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n      setUser(null);\n    };\n    const loginWithGoogle = () => {\n      if (Platform.default.OS === 'web') {\n        // For now, show message that Google login will be enabled soon\n        alert('Google login is coming soon! Please use email/password registration for now.');\n      } else {\n        // On mobile, we can implement later\n        alert('Google login is coming soon! Please use email/password registration for now.');\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":140,"map":[[13,2,50,0,"Object"],[13,8,50,0],[13,9,50,0,"defineProperty"],[13,23,50,0],[13,24,50,0,"exports"],[13,31,50,0],[14,4,50,0,"enumerable"],[14,14,50,0],[15,4,50,0,"get"],[15,7,50,0],[15,18,50,0,"get"],[15,19,50,0],[16,6,50,0],[16,13,50,0,"AuthProvider"],[16,25,50,0],[17,4,50,0],[18,2,50,0],[19,2,119,0,"Object"],[19,8,119,0],[19,9,119,0,"defineProperty"],[19,23,119,0],[19,24,119,0,"exports"],[19,31,119,0],[20,4,119,0,"enumerable"],[20,14,119,0],[21,4,119,0,"get"],[21,7,119,0],[21,18,119,0,"get"],[21,19,119,0],[22,6,119,0],[22,13,119,0,"useAuth"],[22,20,119,0],[23,4,119,0],[24,2,119,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,1,78],[26,6,1,78,"_reactNativeWebDistExportsPlatform"],[26,40,1,78],[26,43,1,78,"require"],[26,50,1,78],[26,51,1,78,"_dependencyMap"],[26,65,1,78],[27,2,1,78],[27,6,1,78,"Platform"],[27,14,1,78],[27,17,1,78,"_interopDefault"],[27,32,1,78],[27,33,1,78,"_reactNativeWebDistExportsPlatform"],[27,67,1,78],[28,2,5,0],[28,6,5,0,"_axios"],[28,12,5,0],[28,15,5,0,"require"],[28,22,5,0],[28,23,5,0,"_dependencyMap"],[28,37,5,0],[29,2,5,0],[29,6,5,0,"axios"],[29,11,5,0],[29,14,5,0,"_interopDefault"],[29,29,5,0],[29,30,5,0,"_axios"],[29,36,5,0],[30,2,5,26],[30,6,5,26,"_reactJsxDevRuntime"],[30,25,5,26],[30,28,5,26,"require"],[30,35,5,26],[30,36,5,26,"_dependencyMap"],[30,50,5,26],[31,2,23,0],[31,8,23,6,"AuthContext"],[31,19,23,17],[31,35,23,20],[31,39,23,20,"createContext"],[31,45,23,33],[31,46,23,33,"createContext"],[31,59,23,33],[31,61,23,63,"undefined"],[31,70,23,72],[31,71,23,73],[33,2,25,0],[34,2,26,0],[34,8,26,6,"getBaseURL"],[34,18,26,16],[34,21,26,19,"getBaseURL"],[34,22,26,19],[34,27,26,25],[35,4,27,2],[36,4,28,2],[36,8,28,6,"Platform"],[36,16,28,14],[36,17,28,14,"default"],[36,24,28,14],[36,25,28,15,"OS"],[36,27,28,17],[36,32,28,22],[36,37,28,27],[36,39,28,29],[37,6,29,4],[38,6,30,4],[38,12,30,10,"backendUrl"],[38,22,30,20],[38,25,30,23,"process"],[38,32,30,30],[38,33,30,31,"env"],[38,36,30,34],[38,37,30,35,"EXPO_PUBLIC_BACKEND_URL"],[38,60,30,58],[39,6,31,4],[39,10,31,8,"backendUrl"],[39,20,31,18],[39,22,31,20],[40,8,32,6,"console"],[40,15,32,13],[40,16,32,14,"log"],[40,19,32,17],[40,20,32,18],[40,40,32,38],[40,42,32,40,"backendUrl"],[40,52,32,50],[40,53,32,51],[41,8,33,6],[41,15,33,13,"backendUrl"],[41,25,33,23],[42,6,34,4],[44,6,36,4],[45,6,37,4],[45,13,37,11],[45,36,37,34],[46,4,38,2],[48,4,40,2],[49,4,41,2],[49,15,41,37],[50,6,42,4],[50,13,42,11,"window"],[50,19,42,17],[50,20,42,18,"location"],[50,28,42,26],[50,29,42,27,"origin"],[50,35,42,33],[51,4,43,2],[52,4,45,2],[52,11,45,9],[52,13,45,11],[53,2,46,0],[53,3,46,1],[54,2,48,0],[54,8,48,6,"API_URL"],[54,15,48,13],[54,18,48,16,"getBaseURL"],[54,28,48,26],[54,29,48,27],[54,30,48,28],[55,2,50,7],[55,8,50,13,"AuthProvider"],[55,20,50,66],[55,23,50,69,"AuthProvider"],[55,24,50,70],[56,4,50,72,"children"],[57,2,50,81],[57,3,50,82],[57,8,50,87],[58,4,51,2],[58,10,51,8],[58,11,51,9,"user"],[58,15,51,13],[58,17,51,15,"setUser"],[58,24,51,22],[58,25,51,23],[58,28,51,26],[58,32,51,26,"useState"],[58,38,51,34],[58,39,51,34,"useState"],[58,47,51,34],[58,49,51,48],[58,53,51,52],[58,54,51,53],[59,4,52,2],[59,10,52,8],[59,11,52,9,"loading"],[59,18,52,16],[59,20,52,18,"setLoading"],[59,30,52,28],[59,31,52,29],[59,34,52,32],[59,38,52,32,"useState"],[59,44,52,40],[59,45,52,40,"useState"],[59,53,52,40],[59,55,52,41],[59,59,52,45],[59,60,52,46],[60,4,54,2],[60,8,54,2,"useEffect"],[60,14,54,11],[60,15,54,11,"useEffect"],[60,24,54,11],[60,26,54,12],[60,32,54,18],[61,6,55,4,"checkAuth"],[61,15,55,13],[61,16,55,14],[61,17,55,15],[62,4,56,2],[62,5,56,3],[62,7,56,5],[62,9,56,7],[62,10,56,8],[63,4,58,2],[63,10,58,8,"checkAuth"],[63,19,58,17],[63,22,58,20],[63,28,58,20,"checkAuth"],[63,29,58,20],[63,34,58,32],[64,6,59,4],[64,10,59,8],[65,8,60,6],[65,14,60,12,"response"],[65,22,60,20],[65,25,60,23],[65,31,60,29,"axios"],[65,36,60,34],[65,37,60,34,"default"],[65,44,60,34],[65,45,60,35,"get"],[65,48,60,38],[65,49,60,39],[65,52,60,42,"API_URL"],[65,59,60,49],[65,73,60,63],[65,75,60,65],[66,10,61,8,"withCredentials"],[66,25,61,23],[66,27,61,25],[67,8,62,6],[67,9,62,7],[67,10,62,8],[68,8,63,6,"setUser"],[68,15,63,13],[68,16,63,14,"response"],[68,24,63,22],[68,25,63,23,"data"],[68,29,63,27],[68,30,63,28],[69,6,64,4],[69,7,64,5],[69,8,64,6],[69,15,64,13,"error"],[69,20,64,18],[69,22,64,20],[70,8,65,6,"setUser"],[70,15,65,13],[70,16,65,14],[70,20,65,18],[70,21,65,19],[71,6,66,4],[71,7,66,5],[71,16,66,14],[72,8,67,6,"setLoading"],[72,18,67,16],[72,19,67,17],[72,24,67,22],[72,25,67,23],[73,6,68,4],[74,4,69,2],[74,5,69,3],[75,4,71,2],[75,10,71,8,"login"],[75,15,71,13],[75,18,71,16],[75,24,71,16,"login"],[75,25,71,23,"email"],[75,30,71,36],[75,32,71,38,"password"],[75,40,71,54],[75,45,71,59],[76,6,72,4],[76,12,72,10,"response"],[76,20,72,18],[76,23,72,21],[76,29,72,27,"axios"],[76,34,72,32],[76,35,72,32,"default"],[76,42,72,32],[76,43,72,33,"post"],[76,47,72,37],[76,48,73,6],[76,51,73,9,"API_URL"],[76,58,73,16],[76,75,73,33],[76,77,74,6],[77,8,74,8,"email"],[77,13,74,13],[78,8,74,15,"password"],[79,6,74,24],[79,7,74,25],[79,9,75,6],[80,8,75,8,"withCredentials"],[80,23,75,23],[80,25,75,25],[81,6,75,30],[81,7,76,4],[81,8,76,5],[82,6,77,4,"setUser"],[82,13,77,11],[82,14,77,12,"response"],[82,22,77,20],[82,23,77,21,"data"],[82,27,77,25],[82,28,77,26],[83,4,78,2],[83,5,78,3],[84,4,80,2],[84,10,80,8,"register"],[84,18,80,16],[84,21,80,19],[84,27,80,19,"register"],[84,28,80,26,"email"],[84,33,80,39],[84,35,80,41,"password"],[84,43,80,57],[84,45,80,59,"name"],[84,49,80,71],[84,54,80,76],[85,6,81,4],[85,10,81,8],[86,8,82,6,"console"],[86,15,82,13],[86,16,82,14,"log"],[86,19,82,17],[86,20,82,18],[86,62,82,60],[86,64,82,62],[86,67,82,65,"API_URL"],[86,74,82,72],[86,94,82,92],[86,95,82,93],[87,8,83,6],[87,14,83,12,"response"],[87,22,83,20],[87,25,83,23],[87,31,83,29,"axios"],[87,36,83,34],[87,37,83,34,"default"],[87,44,83,34],[87,45,83,35,"post"],[87,49,83,39],[87,50,84,8],[87,53,84,11,"API_URL"],[87,60,84,18],[87,80,84,38],[87,82,85,8],[88,10,85,10,"email"],[88,15,85,15],[89,10,85,17,"password"],[89,18,85,25],[90,10,85,27,"name"],[91,8,85,32],[91,9,85,33],[91,11,86,8],[92,10,86,10,"withCredentials"],[92,25,86,25],[92,27,86,27],[93,8,86,32],[93,9,87,6],[93,10,87,7],[94,8,88,6,"console"],[94,15,88,13],[94,16,88,14,"log"],[94,19,88,17],[94,20,88,18],[94,57,88,55],[94,59,88,57,"response"],[94,67,88,65],[94,68,88,66,"data"],[94,72,88,70],[94,73,88,71],[95,8,89,6,"setUser"],[95,15,89,13],[95,16,89,14,"response"],[95,24,89,22],[95,25,89,23,"data"],[95,29,89,27],[95,30,89,28],[96,6,90,4],[96,7,90,5],[96,8,90,6],[96,15,90,13,"error"],[96,20,90,23],[96,22,90,25],[97,8,91,6,"console"],[97,15,91,13],[97,16,91,14,"error"],[97,21,91,19],[97,22,91,20],[97,56,91,54],[97,58,91,56,"error"],[97,63,91,61],[97,64,91,62],[98,8,92,6,"console"],[98,15,92,13],[98,16,92,14,"error"],[98,21,92,19],[98,22,92,20],[98,51,92,49],[98,53,92,51,"error"],[98,58,92,56],[98,59,92,57,"response"],[98,67,92,65],[98,69,92,67,"data"],[98,73,92,71],[98,74,92,72],[99,8,93,6],[99,14,93,12,"error"],[99,19,93,17],[100,6,94,4],[101,4,95,2],[101,5,95,3],[102,4,97,2],[102,10,97,8,"logout"],[102,16,97,14],[102,19,97,17],[102,25,97,17,"logout"],[102,26,97,17],[102,31,97,29],[103,6,98,4],[103,12,98,10,"axios"],[103,17,98,15],[103,18,98,15,"default"],[103,25,98,15],[103,26,98,16,"post"],[103,30,98,20],[103,31,98,21],[103,34,98,24,"API_URL"],[103,41,98,31],[103,59,98,49],[103,61,98,51],[103,62,98,52],[103,63,98,53],[103,65,98,55],[104,8,98,57,"withCredentials"],[104,23,98,72],[104,25,98,74],[105,6,98,79],[105,7,98,80],[105,8,98,81],[106,6,99,4,"setUser"],[106,13,99,11],[106,14,99,12],[106,18,99,16],[106,19,99,17],[107,4,100,2],[107,5,100,3],[108,4,102,2],[108,10,102,8,"loginWithGoogle"],[108,25,102,23],[108,28,102,26,"loginWithGoogle"],[108,29,102,26],[108,34,102,32],[109,6,103,4],[109,10,103,8,"Platform"],[109,18,103,16],[109,19,103,16,"default"],[109,26,103,16],[109,27,103,17,"OS"],[109,29,103,19],[109,34,103,24],[109,39,103,29],[109,41,103,31],[110,8,104,6],[111,8,105,6,"alert"],[111,13,105,11],[111,14,105,12],[111,92,105,90],[111,93,105,91],[112,6,106,4],[112,7,106,5],[112,13,106,11],[113,8,107,6],[114,8,108,6,"alert"],[114,13,108,11],[114,14,108,12],[114,92,108,90],[114,93,108,91],[115,6,109,4],[116,4,110,2],[116,5,110,3],[117,4,112,2],[117,24,113,4],[117,28,113,4,"_reactJsxDevRuntime"],[117,47,113,4],[117,48,113,4,"jsxDEV"],[117,54,113,4],[117,56,113,5,"AuthContext"],[117,67,113,16],[117,68,113,17,"Provider"],[117,76,113,25],[118,6,113,26,"value"],[118,11,113,31],[118,13,113,33],[119,8,113,35,"user"],[119,12,113,39],[120,8,113,41,"loading"],[120,15,113,48],[121,8,113,50,"login"],[121,13,113,55],[122,8,113,57,"register"],[122,16,113,65],[123,8,113,67,"logout"],[123,14,113,73],[124,8,113,75,"loginWithGoogle"],[125,6,113,91],[125,7,113,93],[126,6,113,93,"children"],[126,14,113,93],[126,16,114,7,"children"],[127,4,114,15],[128,6,114,15,"fileName"],[128,14,114,15],[128,16,114,15,"_jsxFileName"],[128,28,114,15],[129,6,114,15,"lineNumber"],[129,16,114,15],[130,6,114,15,"columnNumber"],[130,18,114,15],[131,4,114,15],[131,11,115,26],[131,12,115,27],[132,2,117,0],[132,3,117,1],[133,2,119,7],[133,8,119,13,"useAuth"],[133,15,119,20],[133,18,119,23,"useAuth"],[133,19,119,23],[133,24,119,29],[134,4,120,2],[134,10,120,8,"context"],[134,17,120,15],[134,20,120,18],[134,24,120,18,"useContext"],[134,30,120,28],[134,31,120,28,"useContext"],[134,41,120,28],[134,43,120,29,"AuthContext"],[134,54,120,40],[134,55,120,41],[135,4,121,2],[135,8,121,6],[135,9,121,7,"context"],[135,16,121,14],[135,18,121,16],[136,6,122,4],[136,12,122,10],[136,16,122,14,"Error"],[136,21,122,19],[136,22,122,20],[136,64,122,62],[136,65,122,63],[137,4,123,2],[138,4,124,2],[138,11,124,9,"context"],[138,18,124,16],[139,2,125,0],[139,3,125,1],[140,0,125,2],[140,3]],"functionMap":{"names":["<global>","getBaseURL","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","loginWithGoogle","useAuth"],"mappings":"AAA;mBCyB;CDoB;qEEI;YCI;GDE;oBEE;GFW;gBGE;GHO;mBIE;GJe;iBKE;GLG;0BME;GNQ;CFO;uBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}